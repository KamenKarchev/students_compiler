# Quick Start Guide - STUDENT Language Compiler

## What This Is

This is a **complete compiler** for the STUDENT language (educational programming language). It compiles source code to bytecode and runs it on a virtual machine.

## How to Run Your Programs

### Method 1: Using IntelliJ (Easiest)

1. **Open** `CodeGenerator.java` (in `src/code_gen/`)
2. **Modify** line 493 to point to your source file:
   ```java
   new SourceImpl("resources/YourFile.txt")
   ```
3. **Click** the green â–¶ï¸ play button next to `public static void main`
4. **See** the output in the console!

### Method 2: Command Line

```bash
cd Compiler_students
javac -cp "CompilerLib.jar;src" src/code_gen/CodeGenerator.java
java -cp "CompilerLib.jar;out/production/Compiler" code_gen.CodeGenerator
```

## What Happens When You Run

```
Your Program (Fib.txt)
    â†“
[Lexer] â†’ Tokens
    â†“
[Parser] â†’ Abstract Syntax Tree (AST)
    â†“
[Semantic Analyzer] â†’ Type Checking
    â†“
[Code Generator] â†’ Bytecode (array of integers)
    â†“
[Virtual Machine] â†’ EXECUTION & OUTPUT
```

## Example Output

For `Fib.txt`, you'll see:

1. **Generated Bytecode** (human-readable format):
```
0: ICONST 35
2: GSTORE 0
4: GLOAD 0
6: NEWARRAY 0
8: GSTORE 1
10: GOTO 79
...
147: HALT
```

2. **Program Output**:
```
Please enter a non-negative number:
5
Fibonacci number 0: 0
Fibonacci number 1: 1
Fibonacci number 2: 1
Fibonacci number 3: 2
Fibonacci number 4: 3
Fibonacci number 5: 5
```

## Test Programs Included

| File | Description |
|------|-------------|
| `Fib.txt` | Fibonacci calculator with memoization (recursive) |
| `HelloWorld.txt` | Array operations and conditionals |
| `Test.txt` | Simple function call example |

## Language Syntax Quick Reference

### Basic Structure
```
program {
    // Global variables
    int x = 10;

    // Functions
    add(int a, int b) -> int {
        return a + b;
    }

    // Main (required)
    main() -> void {
        print("Result:", @add(5, 3));
    }
}
```

### Key Features
- **Types**: `int`, `char`, `boolean`, `void`, arrays (`int[]`, `char[]`, `boolean[]`)
- **Operators**: `+`, `-`, `*`, `/`, `%`, `&&`, `||`, `!`, `==`, `!=`, `<`, `>`, `<=`, `>=`
- **Control**: `if`/`else`, `while`, `return`
- **I/O**: `print(...)`, `read(variable)`
- **Functions**: Called with `@` prefix: `@functionName(args)`
- **Arrays**: `int[] arr = int[10];`, `arr[index]`, `length(arr)`

## Tasks (From Exercise Instructions)

The instructions ask you to generate code for:

1. âœ… Program that prints "Hello, world!"
2. âœ… Sum of integers from 1 to 10
3. âœ… Factorial (recursive)
4. Factorial (iterative)
5. Sum of array elements
6. Sort array
7. Find max in array
8. Search for number in array

## Understanding the Output

### Bytecode Instructions

The VM uses stack-based instructions like:
- **ICONST n** - Push integer constant n onto stack
- **GLOAD n** - Load global variable at position n
- **ILOAD n** - Load local variable at position n
- **GSTORE n** - Store to global variable at position n
- **IADD** - Add two integers from stack
- **PRINT** - Print values
- **HALT** - Stop execution

(See `instructions.txt` Appendix Ð“ for complete instruction set)

### How the VM Works

1. **Code Array** - Bytecode instructions (integers)
2. **Operand Stack** - For calculations
3. **Frame Stack** - Function call frames
4. **Global Variables** - Accessible everywhere
5. **Heap** - Dynamic arrays

## Troubleshooting

### "File not found"
- Check the path in line 493 of `CodeGenerator.java`
- Use absolute path if relative doesn't work

### "Class not found"
- Make sure `CompilerLib.jar` is in the classpath
- In IntelliJ: File â†’ Project Structure â†’ Libraries â†’ Add `CompilerLib.jar`

### "No output"
- Make sure `CompilerTestHelper.runVM(code);` is uncommented (line 503)
- Check your program has a `main()` function
- Check your program uses `print()` to output results

### Program compiles but doesn't run
- Check for semantic errors (type mismatches)
- Verify all variables are declared before use
- Ensure function calls use `@` prefix

## Viewing Different Compilation Stages

### Just Lexer (Tokens)
Run `LexerImpl.java` main method - see tokens only

### Lexer + Parser (AST)
Run `ParserImpl.java` main method - see syntax tree

### Full Pipeline
Run `CodeGenerator.java` main method - compile and execute

## Educational Purpose

This compiler demonstrates:
- **Lexical Analysis** - Converting text to tokens
- **Syntax Analysis** - Building parse tree from grammar
- **Semantic Analysis** - Type checking and scope resolution
- **Code Generation** - Translating to VM bytecode
- **Virtual Machine** - Stack-based execution model

Perfect for understanding compiler design principles!

## Need Help?

1. Check `grammar/ParserGrammar.txt` for syntax rules
2. Check `instructions.txt` (Bulgarian) for VM details
3. Look at `Fib.txt` for a complete working example
4. All TODOs have been completed - the compiler is fully functional!

---

**Your compiler is ready to use! Just run `CodeGenerator.main()` and start coding!** ðŸš€
